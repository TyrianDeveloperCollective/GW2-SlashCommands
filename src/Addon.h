///----------------------------------------------------------------------------------------------------
/// Copyright (c) RaidcoreGG - Licensed under the MIT license.
///
/// Name         :  Addon.h
/// Description  :  Addon definitions for /commands.
///----------------------------------------------------------------------------------------------------

#pragma once

#include "Nexus/Nexus.h"

#define ADDON_SIG   0x6F9ACF19 
#define ADDON_NAME "/Commands!"

///----------------------------------------------------------------------------------------------------
/// GetAddonDef:
/// 	Nexus addon interface.
///----------------------------------------------------------------------------------------------------
extern "C" __declspec(dllexport) AddonDefinition_t* GetAddonDef();

///----------------------------------------------------------------------------------------------------
/// Addon Namespace
///----------------------------------------------------------------------------------------------------
namespace Addon
{
	typedef void (*FUNC_ONCUSTOMCOMMAND)(const char* aCommand);

	///----------------------------------------------------------------------------------------------------
	/// Load:
	/// 	Addon load function.
	///----------------------------------------------------------------------------------------------------
	void Load(AddonAPI_t* aApi);
	
	///----------------------------------------------------------------------------------------------------
	/// Unload:
	/// 	Addon unload function.
	///----------------------------------------------------------------------------------------------------
	void Unload();

	///----------------------------------------------------------------------------------------------------
	/// OnInputBind:
	/// 	InputBind handler.
	///----------------------------------------------------------------------------------------------------
	void OnInputBind(const char* aIdentifier, bool aIsRelease);

	///----------------------------------------------------------------------------------------------------
	/// OnCommand_Raidcore:
	/// 	/rc command handler.
	///----------------------------------------------------------------------------------------------------
	void OnCommand_Raidcore(const char* aCommand);

	///----------------------------------------------------------------------------------------------------
	/// OnCommand_SnowCrows:
	/// 	/sc command handler.
	///----------------------------------------------------------------------------------------------------
	void OnCommand_SnowCrows(const char* aCommand);

	///----------------------------------------------------------------------------------------------------
	/// RegisterCommand:
	/// 	Registers a command handler.
	///----------------------------------------------------------------------------------------------------
	void RegisterCommand(const char* aCommand, FUNC_ONCUSTOMCOMMAND aCallback);

	///----------------------------------------------------------------------------------------------------
	/// DeregisterCommand:
	/// 	Deregisters a command handler.
	///----------------------------------------------------------------------------------------------------
	void DeregisterCommand(const char* aCommand, FUNC_ONCUSTOMCOMMAND aCallback);

	///----------------------------------------------------------------------------------------------------
	/// OnCustomCommand:
	/// 	OnCustomCommand handler to handle custom commands.
	///----------------------------------------------------------------------------------------------------
	uint64_t OnCustomCommand(const wchar_t* aCommand);

	///----------------------------------------------------------------------------------------------------
	/// OnCommand:
	/// 	OnCommand handler to intercept commands.
	///----------------------------------------------------------------------------------------------------
	uint64_t __fastcall OnCommand(const wchar_t* aCommand);

	///----------------------------------------------------------------------------------------------------
	/// OnEngineTick:
	/// 	OnEngineTick handler to push commands.
	///----------------------------------------------------------------------------------------------------
	uint64_t __fastcall OnEngineTick(void*, void*);
}
